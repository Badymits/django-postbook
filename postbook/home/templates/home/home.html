{% extends 'base.html' %}

{% block content %}

    <section class="grid grid-cols-5 gap-2 ">
        {% if messages %}

            {% for message in messages %}

                <p>{{ message }}</p>

            {% endfor %}

        {% endif %}
        <div class=" col-start-2 col-end-4">
            <div class="w-full bg-gray-400 h-[60px] flex items-center justify-center w-full gap-[5px] px-4 rounded-xl">
                Profile Image
                
                <input type="text" class="w-full h-[40px] rounded-lg" placeholder="Create Post" onclick='createPostUrl()'>
                <div>
                    image here
                </div>
                <div>
                    Paste link
                </div>
            </div>
            <div class="pt-2">
                {% if posts %}
                    {% for post in posts %}

                        <div class=" w-full bg-gray-200 mb-6 relative p-4 rounded-xl">
                            <p class="text-4xl pb-2">{{ post.title }}</p>
                            <p class="text-sm font-thin">Posted by: <a href="" class="hover:underline"> {{ post.user }} </a> {{ post.date_posted }}</p>
                            <p class="pt-3">{{ post.body }}</p>
                            
                        </div>
                        

                    {% endfor %}
                {% else %}
                    <p>No posts...</p>
                {% endif %}
                <div class="h-[400px] w-full bg-gray-200 mb-6 relative p-4">
                    aaaa
                </div>
                <div class="h-[400px] w-full bg-gray-200 mb-6 relative p-4">
                    aaaa
                </div>
                <div class="h-[400px] w-full bg-gray-200 mb-6 relative p-4">
                    aaaa
                </div>

                
            </div>
        </div>
        <div class="">
            <div class="fixed bg-gray-300 h-[500px] w-[400px] rounded-lg p-4">
                About PostBook...
            </div>
        </div>
        
        
    </section>
    <a href="{% url 'home' %}" class="sticky float-right right-[25em] bottom-5 bg-gray-400 hover:bg-gray-300 w-[150px] 
    py-3 rounded-full text-center text-lg text-gray-100 hover:text-gray-600 opacity-0 translate-y-[100px] duration-200 ease-in-out" id="resetBtn">Back to Top</a>
    <script type="text/javascript">
        let reset_btn = document.getElementById('resetBtn');
        function createPostUrl(){
            window.location.href = "{% url 'create-post' %}";
        }

        window.addEventListener('scroll', function(){
            if(window.scrollY > 300){

                reset_btn.classList.remove('opacity-0')
                reset_btn.classList.remove('translate-y-[100px]')

                reset_btn.classList.add('opacity-100')
                reset_btn.classList.add('translate-y-0')


            } else {
                reset_btn.classList.remove('opacity-100')
                reset_btn.classList.remove('translate-y-0')


                reset_btn.classList.add('ease-out')
                reset_btn.classList.add('translate-y-[100px]')
            }
        })
    </script>

{% endblock %}
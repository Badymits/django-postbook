<header class="bg-gray-300 h-[60px] flex justify-between items-center px-10 fixed w-full z-50">
    <h1 class="text-4xl font-thin">
        <a href="{% url 'home' %}">PostBook</a>
    </h1>
    <div>
        Searchbar
    </div>
    <div class="relative">
        <!-- add hover effect here -->
        <div class="text-2xl cursor-pointer" id="profile">
            Welcome {{ request.user.username }}!
            <div id="profile-menu" class="hidden absolute top-10 right-0 bg-gray-200  rounded-md shadow-xl py-2 pb-4">
                <ul class="list-none flex flex-col gap-[20px] items-center justify-center w-[12em] h-full font-light">
            
                    <li class="cursor-pointer w-full hover:bg-gray-300">
                        <a href="{% url 'user' request.user.id 'posts' %}" class="flex items-center gap-2 w-full p-2">

                            <div class="w-10 h-10 bg-red-200 rounded-[50%] relative overflow-hidden">
                                <img src="{{ request.user.get_user_photo_url}}" alt="{{ user.username }}"  class="h-full w-full object-cover"/>
                                <span class="w-2 h-2 absolute right-1 bottom-0 bg-green-300 rounded-full"></span>
                            </div>
                            <p class=" rounded-full bg-blue-300 relative">
                                
                            </p>
                            <div class="">
                                <p class="text-sm">View Profile</p>
                                <p class="text-[25px]">{{ request.user.username }}</p>
                            </div>
                        </a>
                    </li>
                    <li class="cursor-pointer w-full hover:bg-gray-300 h-[60px]">
                        <a href="{% url 'settings' 'account' %}" class="flex items-center p-3 pl-4 gap-2">
                            <i class="fa fa-cog" aria-hidden="true"></i>
                            Settings
                        </a>
                    </li>
                    <li class="cursor-pointer w-full hover:bg-gray-300 h-[60px]">
                        <a href="{% url 'logout' %}" class=" flex items-center p-3 pl-4 gap-2">
                            <i class="fa fa-sign-out" aria-hidden="true"></i>
                            <p>Logout</p>
                        </a>
                    </li>
                    
                </ul>
            </div>
        </div>
        
    </div>
    
    
</header>

<script type="text/javascript">
    let profile_div = document.getElementById('profile')

    profile_div.addEventListener('click', function(e) {
        
        let profile_menu = document.getElementById('profile-menu')
        if (profile_menu.classList.contains('hidden')){
            profile_menu.classList.remove('hidden')
        } else {
            profile_menu.classList.add('hidden')
        }
    })
    
</script>